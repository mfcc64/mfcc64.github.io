<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>ShowCQT Spectrogram</title>
        <link rel="stylesheet" href="/css/default.css"/>
        <script src="/js/bootstrap.js"></script>
        <script type="module">
            const player = document.getElementById("video-player");
            const video_file = document.getElementById("video-file");
            video_file.onchange = function() {
                if (!this.files[0])
                    return;

                const old = player.src;
                player.src = URL.createObjectURL(this.files[0]);
                player.play();
                URL.revokeObjectURL(old);
            };
            video_file.onchange();

            const sample_audio = document.getElementById("sample-audio");
            sample_audio.onclick = function() {
                const old = player.src;
                player.src = "sample.mp3";
                player.play();
                URL.revokeObjectURL(old);
            };
        </script>
        <script type="module" src="https://cdn.jsdelivr.net/npm/@mfcc64/ytms/script.mjs"></script>
    </head>
    <body>
        <div id="content" style="padding-top: 0;">
            <p>
                <video id="video-player" controls="" width="640" height="360"></video><br/>
                <input type="file" id="video-file" accept="audio/*, video/*"/>
                <button id="sample-audio">Sample Audio</button>
            </p>
            <p>This page is a webpage version of <a target="_blank" href="https://github.com/mfcc64/youtube-musical-spectrum">YouTube Musical Spectrum</a>.
            Click the top left icon to change settings.</p>
        </div>
    </body>
</html>
